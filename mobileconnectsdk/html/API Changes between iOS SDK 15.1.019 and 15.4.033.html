<!DOCTYPE html>
<html>
  <head>
        <link rel="stylesheet" href="../../css/site.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
        <link rel="stylesheet" href="https://raw.githubusercontent.com/isagalaev/highlight.js/master/src/styles/androidstudio.css">
  </head>
  <body>
    <header>
      <h1>Gallagher Mobile Connect SDK</h1>  
      <img src="https://security.gallagher.com/-/media/Project/Security-Business/Security-Public-Site/Images/logo.png?h=57&w=211&hash=0EA242C252043E031A593CA3DB13D59B"></img>
      <style type="text/css">
        #content {
          padding: 1em;
        }
      </style>
    </header>
    <div id="content">
<h1>API Changes between iOS SDK 15.1.019 and 15.4.033</h1>
<p>The primary difference between these two SDK versions is added support for Mobile Credential Sharing.</p>
<h2>Minor: Added <code>struct SharedCredential</code>:</h2>
<p>This new struct has two properties:</p>
<ul>
<li><code>facilityName: String</code> which tells you the Display Name of the other site that this credential has been shared with.</li>
<li><code>facilityId: Int</code> which tells you the Facility ID of the other site that this credential has been shared with.</li>
</ul>
<h2>Minor: <code>protocol MobileCredential</code>:</h2>
<p>Added read-only property <code>sharedCredentials: [SharedCredential]</code>.
You can read this property to fetch the list of <code>SharedCredential</code> objects pertaining to the other sites that this credential has been shared with.</p>
<h2>Minor: <code>struct DigitalId</code>:</h2>
<p>Added field <code>sourceSiteFacilityId: Int</code> which can be used to distinguish Digital Id's sent from different sites, in a credential sharing environment.</p>
<h2>Minor: <code>struct SaltoKeyIdentifier</code>:</h2>
<p>Added field <code>sourceSiteFacilityId: Int</code> which can be used to distinguish Salto Keys sent from different sites, in a credential sharing environment.</p>
<h2>Experimental: <code>protocol MobileAccess</code></h2>
<p>Added <code>func startOpeningNextDoor(expiry:, delegate:)</code></p>
<p>This instructs the Mobile Connect SDK to set a timer for the next 7 seconds, wherein the next door that is within BLE range will be automatically opened, even if this is outside the normal auto-connect range. The Gallagher Mobile Connect app ties this to a Siri Shortcut so you can use a voice command to open the nearest door.</p>
<p><em>Beware:</em> This feature is experimental and if there are multiple doors within close proximity, the wrong one may be opened. We may remove this experimental feature in future in favour of a more comprehensive solution; please treat it accordingly.</p>
        </div>
    </body>
</html>
